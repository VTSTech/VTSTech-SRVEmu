=== MULTIPLAYER SESSION INITIALIZATION ===
Event 0xc03c triggers: PacketConstructor_MultiPlayer → SessionInit_MultiPlayer
CHAL command trigger chain: Game_InitializeNetworkSystem → NetworkEvent_RegisterHandlers → NetworkEvent_Handler → EVENT 0xc03c → PacketConstructor_MultiPlayer → packet sent → client SessionInit_MultiPlayer → NetworkMain_Setup → ChallengeSystem_Startup → System_CommandDispatcher(0x88) → ChallengeSystem_RegisterState → sends CHAL

=== NETWORK EVENT CODES ===
0xc032: PacketConstructor_ErrorSession → SessionInit_Error
0xc034: PacketConstructor_MultiAuth → SessionInit_MultiAuth  
0xc03c: PacketConstructor_MultiPlayer → SessionInit_MultiPlayer (CRITICAL)
0xc03d: SessionInit_MultiPlayer (direct)

=== PACKETCONSTRUCTOR_MULTIPLAYER FORMAT ===
Data structure (24+ bytes):
• uStack_70 (4B): Initial = 0
• uStack_6c (1B): Counter/index
• uStack_6a (1B): Flag = 1
• Padding (2B)
• uStack_68 (4B): Data from DAT_004e1428[0]
• uStack_64 (4B): Data from DAT_004e1428[1]
• uStack_60 (4B): Data from DAT_004e1428[2]
• uStack_58 (4B): Constant 0x1b (27)
DATA SOURCE: DAT_004e1428 array, size = DAT_004e1420
Each iteration: 3×4-byte values (12B), loop runs DAT_004e1420 times

=== 272-BYTE SESSION DATA STRUCTURE ===
SessionData_Copy272Bytes copies 272 bytes (0x110) to offset 0x2dc in main session structure
Copies in two parts:
1. 256 bytes (0x100) in loop (8-byte chunks)
2. 16 bytes after loop
Sets flag at offset 0x2d8 to 1 when valid
Destination: DAT_004e31a8 + 0x2dc = 0x004e3484
Valid flag: DAT_004e31a8 + 0x2d8 = 0x004e3480
Source: param_2 in SessionData_Copy272Bytes (from play command)

=== PROTOCOL HANDLER SYSTEM ===
RaceSession_CreateFull registers:
• Type 0: ProtocolHandler_GameState
• Type 4: ProtocolHandler_GameCommands
• Type 6: Protocol_GameStateManager
• Type 7: ProtocolHandler_Session

=== PROTOCOLHANDLER_GAMECOMMANDS MAPPING ===
param_2 = -3 (0xfffffffd): CLEANUP (subtypes 2-50, 0x34)
param_2 = -2 (0xfffffffe): PROCESSING (subtype 1=MultiplayerSession_Initialize)
param_2 = -1 (0xffffffff): CREATION (subtypes 2-50, 0x34)

=== LOBBY STATE TRANSITION ===
NetworkEvent_MainDispatcher(a2=0) → Protocol_MessageRouter → ProtocolHandler_LobbyStateEntry → ProtocolEvent_LobbyTrigger → GameState_ForceLobbyEntry → DAT_0038333c = 0x4b1 (MULTIPLAYER_LOBBY) → NetworkState_CleanupAll()

=== AUTHENTICATION CORRECTION ===
NO "AUTH_STATE" field exists. Correct flow:
1. Client: auth (NAME, USER, PASS, PERS, TOS)
2. Server: STATUS=1 + SESS + NAME + USER + PERSONAS
3. Server: Automatic pers response
4. Client: Authentication_TriggerStateMachine → Authentication_ProcessStateChange → Authentication_StateMachineMain
5. Client: AuthState_TransitionToComplete sets state to 3
6. Client: AuthState_FinalizeComplete finalizes

=== AUTHENTICATION STATE JUMP TABLE @ 0x003d9df0 ===
State 0 → AuthState_InitialHandler
State 1 → AuthState_ProcessingHandler
State 2 → AuthState_ValidatingHandler
State 4/5 → AuthState_TransitionHandler1
State 6/7 → AuthState_TransitionHandler2

=== CHALLENGE SYSTEM ===
ChallengeSystem_InitializeNetwork → ChallengeSystem_SendRegistration (sends CHAL) → ChallengeCallback_RegisterHandler → ChallengeCallback_HandlerMain
Challenge notification paths: MESG Path (System NOT Ready) or NetworkPacket_ChallengeProcessor (System IS Ready)

=== PLAY COMMAND PROCESSING ===
ChallengeCommand_Dispatcher checks for play command (0x706c6179)
When challenge state == 6, calls Callback_ProcessPLAYCommand
Callback_ProcessPLAYCommand → SessionData_Copy272Bytes(&DAT_004e31a8, session_data_ptr)
Session data must be 272 bytes (0x110)

=== SYSTEM COMMAND ARCHITECTURE ===
0xE: System_AUXI_Dispatcher
0x34: CommandHandler_AUXI2
0x88: ChallengeSystem_RegisterState (sends CHAL)
0x11F: SystemCommand_AcceptChallenge
0x125: CommandHandler_CHAL
0x126: Challenge_ReceiveNotification
0x127: ChallengeValidation_CanInitiate
0x128: ChallengeValidation_IsPlayerAvailable

=== MEMORY STRUCTURES ===
DAT_0038333c: Current game state (0x4b1=MULTIPLAYER_LOBBY, 0x4ba=NETWORK_INIT)
DAT_00382eb1: Conditional lobby block (set to 1 by GameState_BlockConditionalPath)
switchdataD_003b04c0: A2-based jump table
switchdataD_003b01a0: A1-based jump table
Auth state at offset 0x2c0 (sets to 3 COMPLETE)
DAT_004e31a8: Main session structure (references: 15)